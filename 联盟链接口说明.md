* [环境接口](#%E7%8E%AF%E5%A2%83%E6%8E%A5%E5%8F%A3)
  * [1 查询节点同步状态](#1-%E6%9F%A5%E8%AF%A2%E8%8A%82%E7%82%B9%E5%90%8C%E6%AD%A5%E7%8A%B6%E6%80%81)
      * [isSync()](#issync)
* [账户接口](#%E8%B4%A6%E6%88%B7%E6%8E%A5%E5%8F%A3)
  * [1 创建账户](#1-%E5%88%9B%E5%BB%BA%E8%B4%A6%E6%88%B7)
      * [newAccountLocal](#newaccountlocal)
  * [2 验证地址](#2-%E9%AA%8C%E8%AF%81%E5%9C%B0%E5%9D%80)
      * [validAddress](#validaddress)
  * [3 转账](#3-%E8%BD%AC%E8%B4%A6)
    * [3\.1 构造并签名转账交易](#31-%E6%9E%84%E9%80%A0%E5%B9%B6%E7%AD%BE%E5%90%8D%E8%BD%AC%E8%B4%A6%E4%BA%A4%E6%98%93)
      * [transferBalanceMain](#transferbalancemain)
    * [3\.2 发送交易](#32-%E5%8F%91%E9%80%81%E4%BA%A4%E6%98%93)
      * [submitTransaction](#submittransaction)
    * [3\.3 查询主积分余额](#33-%E6%9F%A5%E8%AF%A2%E4%B8%BB%E7%A7%AF%E5%88%86%E4%BD%99%E9%A2%9D)
      * [getCoinsBalance](#getcoinsbalance)
* [自定义积分接口](#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%A7%AF%E5%88%86%E6%8E%A5%E5%8F%A3)
  * [自定义积分的黑名单配置](#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%A7%AF%E5%88%86%E7%9A%84%E9%BB%91%E5%90%8D%E5%8D%95%E9%85%8D%E7%BD%AE)
  
# 环境接口
> 以下接口操作适用于联盟链和私链的场合，公链和平行链请参考对应的接口说明文档
> 更新时间：2019-12-26

## 1 查询节点同步状态

#### isSync() 
> 用于查询节点同步状态,返回: true表示同步完成，false表示同步未完成

**函数原型：**

```java
public Boolean isSync()
```

**请求参数：**

|参数|类型|是否必填|说明|
|----|----|----|----|
|null|null|null|null|

**返回字段：**

|返回字段|字段类型|说明|
|----|----|----|
|result|bool|同步状态：true表示同步完成，false表示同步未完成， 建议应用层判断同步完成后再发送交易|

**示例：**

```java
RpcClient client = new RpcClient("localhost", 8801);
System.out.println("is sync:" + client.isSync());
```

**适用场景：**

|公链|联盟链|私链|平行链|
|----|----|----|----|
|√|√|√|×|


# 账户接口
## 1 创建账户

#### newAccountLocal

**函数原型：**

```java
public AccountInfo newAccountLocal()
```

**请求参数：**

|参数|类型|是否必填|说明|
|----|----|----|----|
|null|null|null|null|

**返回字段：**

|返回字段|字段类型|说明|
|----|----|----|
|accountInfo|AccountInfo|账户信息，包含私钥，公钥，地址|

**示例：**

```java
AccountInfo accountInfo = account.newAccountLocal();
System.out.println("privateKey is:" + accountInfo.getPrivateKey());
System.out.println("publicKey is:" + accountInfo.getPublicKey());
System.out.println("Address is:" + accountInfo.getAddress());
```

**适用场景：**

|公链|联盟链|私链|平行链|
|----|----|----|----|
|√|√|√|√|


## 2 验证地址

#### validAddress

**函数原型：**

```java
public static boolean validAddress(String address)
```

**请求参数：**

|参数|类型|是否必填|说明|
|----|----|----|----|
|address|string|是|地址|

**返回字段：**

|返回字段|字段类型|说明|
|----|----|----|
|result|bool|地址验证结果|

**示例：**

```java
String address = "1G1L2M1w1c1gpV6SP8tk8gBPGsJe2RfTks";
boolean validAddressResult = TransactionUtil.validAddress(address);
System.out.printf("validate result is:%s", validAddressResult);
```

**适用场景：**

|公链|联盟链|私链|平行链|
|----|----|----|----|
|√|√|√|√|


## 3 转账
> 此处转账只针对联盟链基础积分，此积分在创始区块时就完成初始化,不用手工创建，并且后续不可增发。
> 对于一条确定的链来说，有且只有一种基础积分。 如果要创建多种类不同的积分，可以参考4 token接口

### 3.1 构造并签名转账交易
#### transferBalanceMain

**函数原型：**

```java
public static String transferBalanceMain(TransferBalanceRequest transferBalanceRequest)
```

**请求参数：**

|参数|类型|是否必填|说明|
|----|----|----|----|
|transferBalanceRequest|TransferBalanceRequest|是|构造转账交易的参数|

**示例：**

```java
TransferBalanceRequest transferBalanceRequest = new TransferBalanceRequest();

// 转账说明
transferBalanceRequest.setNote("转账说明");
// 转主积分的情况下，默认填""
transferBalanceRequest.setCoinToken("");
// 转账数量 ， 以下代表转1个积分
transferBalanceRequest.setAmount(1 * 100000000L);
// 转到的地址
transferBalanceRequest.setTo("1CbEVT9RnM5oZhWMj4fxUrJX94VtRotzvs");
// 签名私私钥
transferBalanceRequest.setFromPrivateKey("55637b77b193f2c60c6c3f95d8a5d3a98d15e2d42bf0aeae8e975fc54035e2f4");
// 执行器名称，主链主积分固定为coins
transferBalanceRequest.setExecer("coins");
// 签名类型 (支持SM2, SECP256K1, ED25519)
transferBalanceRequest.setSignType(SignType.SECP256K1);
// 构造好，并本地签好名的交易
String createTransferTx = TransactionUtil.transferBalanceMain(transferBalanceRequest);
System.out.printf("createTransferTx is:%s", createTransferTx);
```

**适用场景：**
|公链|联盟链|私链|平行链|
|----|----|----|----|
|√|√|√|×|

### 3.2 发送交易
> 发送3.1中构造并签好名的交易
#### submitTransaction

**函数原型：**

```java
public String submitTransaction(String data)
```

**请求参数：**

|参数|类型|是否必填|说明|
|----|----|----|----|
|data|String|是|3.1中构造并签好名的交易|

**示例：**

```java
// 交易发往区块链
String txHash = client.submitTransaction(data);
System.out.println(txHash);
```

**适用场景：**

|公链|联盟链|私链|平行链|
|----|----|----|----|
|√|√|√|√|


### 3.3 查询主积分余额
#### getCoinsBalance

**函数原型：**

```java
public List<AccountAccResult> getCoinsBalance(List<String> addresses, String execer)
```

**请求参数：**

|参数|类型|是否必填|说明|
|----|----|----|----|
|addresses|List|是|地址列表|
|execer|String|是|执行器名称：主链主积分情况下，默认为coins|


**示例：**

```java
List<String> list = new ArrayList<>();
list.add("1CbEVT9RnM5oZhWMj4fxUrJX94VtRotzvs");
list.add("1EHWKLEixvfanTHWmnF7mYMuDDXTCorZd7");

QueryTransactionResult queryTransaction1;

List<AccountAccResult> queryBtyBalance;
queryBtyBalance = client.getCoinsBalance(list, "coins");
if (queryBtyBalance != null) {
    for (AccountAccResult accountAccResult : queryBtyBalance) {
        System.out.println(accountAccResult);
    }
```

**适用场景：**

|公链|联盟链|私链|平行链|
|----|----|----|----|
|√|√|√|×|


# 自定义积分接口
> 包含积分名称黑名单，积分的预发行，积分发行，积分增发，积分查询等接口
> 积分发行步骤：
> 1. 通过当前链的超级管理员来配置自定义积分的黑名单(全局配置：通常情况下只需要执行一次)。
> 2. 通过当前链的超级管理员来配置自定义积分的审核者(全局配置：通常情况下只需要执行一次)。
> 3. 通过积分审核者来预发行自定义积分。
> 4. 通过积分审核者来正式发行自定义积分。

## 自定义积分的黑名单配置
